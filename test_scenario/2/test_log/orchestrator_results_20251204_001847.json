{
  "1": {
    "query_id": "query-1-heat-occupied",
    "description": "Room is cold (18\u00b0C) with 2 people, user wants to increase temperature",
    "intent": "increase the temperature in the room.",
    "context": {
      "http://example.org/artifacts/temperature_sensor": {
        "http://example.org/TemperatureSensor#hasTemperatureLevel": 18
      },
      "http://example.org/artifacts/person_counter": {
        "http://example.org/PersonCounter#hasPersonCount": 2
      }
    },
    "results": [
      {
        "signifier_id": "heat-room-with-people-signifier",
        "final_score": 0.8503806781768799,
        "passed_gates": true,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8303806781768799,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": true,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8304 (weight: 0.7)",
          "SHACL validation: PASS (weight: 0.2)",
          "Specificity boost: +0.0200 (2 constraints)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "cool-room-with-people-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8161208629608154,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8161 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "heat-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8045567870140076,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8046 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "cool-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.7940270900726318,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.7940 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      }
    ],
    "module_results": [
      {
        "module": "IM",
        "latency_ms": 4696.852922439575,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.8303806781768799,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8161208629608154,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.8045567870140076,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.7940270900726318,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            }
          ],
          "matcher_version": "v1"
        }
      },
      {
        "module": "SV",
        "latency_ms": 14.950037002563477,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.8303806781768799,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": true,
              "shacl_violations": [],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8161208629608154,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not > Literal(\"25\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.8045567870140076,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not <= Literal(\"0\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.7940270900726318,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not <= Literal(\"0\", datatype=xsd:integer)",
                "Value is not > Literal(\"25\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            }
          ],
          "passed_count": 1
        }
      },
      {
        "module": "RP",
        "latency_ms": 0.0,
        "candidate_count": 4,
        "metadata": {
          "ranked_results": [
            {
              "signifier_id": "heat-room-with-people-signifier",
              "final_score": 0.8503806781768799,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8303806781768799,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": true,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": true,
              "explanation": [
                "Intent similarity: 0.8304 (weight: 0.7)",
                "SHACL validation: PASS (weight: 0.2)",
                "Specificity boost: +0.0200 (2 constraints)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8161208629608154,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8161 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8045567870140076,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8046 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.7940270900726318,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.7940 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            }
          ]
        }
      }
    ],
    "total_latency_ms": 4711.802959442139,
    "summary": {
      "total_results": 4,
      "passed_gates": 1,
      "failed_gates": 3,
      "pipeline": [
        "IM",
        "SV",
        "RP"
      ],
      "intent_query": "increase the temperature in the room."
    }
  },
  "2": {
    "query_id": "query-2-heat-empty",
    "description": "Room is cold (18\u00b0C) with 0 people, user wants to increase temperature",
    "intent": "increase the temperature in the room.",
    "context": {
      "http://example.org/artifacts/temperature_sensor": {
        "http://example.org/TemperatureSensor#hasTemperatureLevel": 18
      },
      "http://example.org/artifacts/person_counter": {
        "http://example.org/PersonCounter#hasPersonCount": 0
      }
    },
    "results": [
      {
        "signifier_id": "heat-room-empty-signifier",
        "final_score": 0.8245567870140076,
        "passed_gates": true,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8045567870140076,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": true,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8046 (weight: 0.7)",
          "SHACL validation: PASS (weight: 0.2)",
          "Specificity boost: +0.0200 (2 constraints)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "heat-room-with-people-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8303806781768799,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8304 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "cool-room-with-people-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8161208629608154,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8161 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "cool-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.7940270900726318,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.7940 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      }
    ],
    "module_results": [
      {
        "module": "IM",
        "latency_ms": 5.980253219604492,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.8303806781768799,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8161208629608154,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.8045567870140076,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.7940270900726318,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            }
          ],
          "matcher_version": "v1"
        }
      },
      {
        "module": "SV",
        "latency_ms": 13.953208923339844,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.8303806781768799,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not >= Literal(\"1\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8161208629608154,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not >= Literal(\"1\", datatype=xsd:integer)",
                "Value is not > Literal(\"25\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.8045567870140076,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": true,
              "shacl_violations": [],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.7940270900726318,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not > Literal(\"25\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            }
          ],
          "passed_count": 1
        }
      },
      {
        "module": "RP",
        "latency_ms": 0.0,
        "candidate_count": 4,
        "metadata": {
          "ranked_results": [
            {
              "signifier_id": "heat-room-empty-signifier",
              "final_score": 0.8245567870140076,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8045567870140076,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": true,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": true,
              "explanation": [
                "Intent similarity: 0.8046 (weight: 0.7)",
                "SHACL validation: PASS (weight: 0.2)",
                "Specificity boost: +0.0200 (2 constraints)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8303806781768799,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8304 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8161208629608154,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8161 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.7940270900726318,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.7940 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            }
          ]
        }
      }
    ],
    "total_latency_ms": 19.933462142944336,
    "summary": {
      "total_results": 4,
      "passed_gates": 1,
      "failed_gates": 3,
      "pipeline": [
        "IM",
        "SV",
        "RP"
      ],
      "intent_query": "increase the temperature in the room."
    }
  },
  "3": {
    "query_id": "query-3-cool-occupied",
    "description": "Room is hot (28\u00b0C) with 3 people, user wants to decrease temperature",
    "intent": "decrease the temperature in the room.",
    "context": {
      "http://example.org/artifacts/temperature_sensor": {
        "http://example.org/TemperatureSensor#hasTemperatureLevel": 28
      },
      "http://example.org/artifacts/person_counter": {
        "http://example.org/PersonCounter#hasPersonCount": 3
      }
    },
    "results": [
      {
        "signifier_id": "cool-room-with-people-signifier",
        "final_score": 0.8431371641159058,
        "passed_gates": true,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8231371641159058,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": true,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8231 (weight: 0.7)",
          "SHACL validation: PASS (weight: 0.2)",
          "Specificity boost: +0.0200 (2 constraints)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "cool-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.80007004737854,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8001 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "heat-room-with-people-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.78983473777771,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.7898 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "heat-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.7737622261047363,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.7738 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      }
    ],
    "module_results": [
      {
        "module": "IM",
        "latency_ms": 7.973909378051758,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8231371641159058,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.80007004737854,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.78983473777771,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.7737622261047363,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            }
          ],
          "matcher_version": "v1"
        }
      },
      {
        "module": "SV",
        "latency_ms": 13.95273208618164,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8231371641159058,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": true,
              "shacl_violations": [],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.80007004737854,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not <= Literal(\"0\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.78983473777771,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not < Literal(\"20\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.7737622261047363,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not <= Literal(\"0\", datatype=xsd:integer)",
                "Value is not < Literal(\"20\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            }
          ],
          "passed_count": 1
        }
      },
      {
        "module": "RP",
        "latency_ms": 0.0,
        "candidate_count": 4,
        "metadata": {
          "ranked_results": [
            {
              "signifier_id": "cool-room-with-people-signifier",
              "final_score": 0.8431371641159058,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8231371641159058,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": true,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": true,
              "explanation": [
                "Intent similarity: 0.8231 (weight: 0.7)",
                "SHACL validation: PASS (weight: 0.2)",
                "Specificity boost: +0.0200 (2 constraints)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.80007004737854,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8001 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.78983473777771,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.7898 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.7737622261047363,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.7738 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            }
          ]
        }
      }
    ],
    "total_latency_ms": 21.9266414642334,
    "summary": {
      "total_results": 4,
      "passed_gates": 1,
      "failed_gates": 3,
      "pipeline": [
        "IM",
        "SV",
        "RP"
      ],
      "intent_query": "decrease the temperature in the room."
    }
  },
  "4": {
    "query_id": "query-4-cool-empty",
    "description": "Room is hot (28\u00b0C) with 0 people, user wants to decrease temperature",
    "intent": "decrease the temperature in the room.",
    "context": {
      "http://example.org/artifacts/temperature_sensor": {
        "http://example.org/TemperatureSensor#hasTemperatureLevel": 28
      },
      "http://example.org/artifacts/person_counter": {
        "http://example.org/PersonCounter#hasPersonCount": 0
      }
    },
    "results": [
      {
        "signifier_id": "cool-room-empty-signifier",
        "final_score": 0.8200700473785401,
        "passed_gates": true,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.80007004737854,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": true,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8001 (weight: 0.7)",
          "SHACL validation: PASS (weight: 0.2)",
          "Specificity boost: +0.0200 (2 constraints)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "cool-room-with-people-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8231371641159058,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8231 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "heat-room-with-people-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.78983473777771,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.7898 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "heat-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.7737622261047363,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.7738 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      }
    ],
    "module_results": [
      {
        "module": "IM",
        "latency_ms": 8.970260620117188,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8231371641159058,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.80007004737854,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.78983473777771,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.7737622261047363,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            }
          ],
          "matcher_version": "v1"
        }
      },
      {
        "module": "SV",
        "latency_ms": 14.950752258300781,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8231371641159058,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not >= Literal(\"1\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.80007004737854,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": true,
              "shacl_violations": [],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.78983473777771,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not >= Literal(\"1\", datatype=xsd:integer)",
                "Value is not < Literal(\"20\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.7737622261047363,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not < Literal(\"20\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            }
          ],
          "passed_count": 1
        }
      },
      {
        "module": "RP",
        "latency_ms": 0.0,
        "candidate_count": 4,
        "metadata": {
          "ranked_results": [
            {
              "signifier_id": "cool-room-empty-signifier",
              "final_score": 0.8200700473785401,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.80007004737854,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": true,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": true,
              "explanation": [
                "Intent similarity: 0.8001 (weight: 0.7)",
                "SHACL validation: PASS (weight: 0.2)",
                "Specificity boost: +0.0200 (2 constraints)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8231371641159058,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8231 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.78983473777771,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.7898 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.7737622261047363,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.7738 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            }
          ]
        }
      }
    ],
    "total_latency_ms": 23.92101287841797,
    "summary": {
      "total_results": 4,
      "passed_gates": 1,
      "failed_gates": 3,
      "pipeline": [
        "IM",
        "SV",
        "RP"
      ],
      "intent_query": "decrease the temperature in the room."
    }
  },
  "5": {
    "query_id": "query-5-moderate-temp-occupied",
    "description": "Room is moderate (22\u00b0C) with 2 people - no signifier should match temperature constraints",
    "intent": "adjust the temperature in the room.",
    "context": {
      "http://example.org/artifacts/temperature_sensor": {
        "http://example.org/TemperatureSensor#hasTemperatureLevel": 22
      },
      "http://example.org/artifacts/person_counter": {
        "http://example.org/PersonCounter#hasPersonCount": 2
      }
    },
    "results": [
      {
        "signifier_id": "cool-room-with-people-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8161119222640991,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8161 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "heat-room-with-people-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8096740245819092,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8097 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "cool-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.7953680753707886,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.7954 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "heat-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.7891271114349365,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.7891 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      }
    ],
    "module_results": [
      {
        "module": "IM",
        "latency_ms": 8.970022201538086,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8161119222640991,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.8096740245819092,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.7953680753707886,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.7891271114349365,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            }
          ],
          "matcher_version": "v1"
        }
      },
      {
        "module": "SV",
        "latency_ms": 13.95273208618164,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8161119222640991,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not > Literal(\"25\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.8096740245819092,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not < Literal(\"20\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.7953680753707886,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not > Literal(\"25\", datatype=xsd:integer)",
                "Value is not <= Literal(\"0\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.7891271114349365,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not < Literal(\"20\", datatype=xsd:integer)",
                "Value is not <= Literal(\"0\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            }
          ],
          "passed_count": 0
        }
      },
      {
        "module": "RP",
        "latency_ms": 0.0,
        "candidate_count": 4,
        "metadata": {
          "ranked_results": [
            {
              "signifier_id": "cool-room-with-people-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8161119222640991,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8161 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "heat-room-with-people-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8096740245819092,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8097 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.7953680753707886,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.7954 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.7891271114349365,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.7891 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            }
          ]
        }
      }
    ],
    "total_latency_ms": 22.922754287719727,
    "summary": {
      "total_results": 4,
      "passed_gates": 0,
      "failed_gates": 4,
      "pipeline": [
        "IM",
        "SV",
        "RP"
      ],
      "intent_query": "adjust the temperature in the room."
    }
  },
  "6": {
    "query_id": "query-6-heat-edge-case",
    "description": "Room is cold (19\u00b0C) with exactly 1 person - edge case for boundary conditions",
    "intent": "increase the temperature in the room.",
    "context": {
      "http://example.org/artifacts/temperature_sensor": {
        "http://example.org/TemperatureSensor#hasTemperatureLevel": 19
      },
      "http://example.org/artifacts/person_counter": {
        "http://example.org/PersonCounter#hasPersonCount": 1
      }
    },
    "results": [
      {
        "signifier_id": "heat-room-with-people-signifier",
        "final_score": 0.8503806781768799,
        "passed_gates": true,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8303806781768799,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": true,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8304 (weight: 0.7)",
          "SHACL validation: PASS (weight: 0.2)",
          "Specificity boost: +0.0200 (2 constraints)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "cool-room-with-people-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8161208629608154,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8161 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "heat-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.8045567870140076,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.8046 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      },
      {
        "signifier_id": "cool-room-empty-signifier",
        "final_score": 0.0,
        "passed_gates": false,
        "signals": [
          {
            "name": "intent_similarity",
            "value": 0.7940270900726318,
            "weight": 0.7,
            "is_gate": false
          },
          {
            "name": "shacl_conforms",
            "value": false,
            "weight": 0.2,
            "is_gate": true
          }
        ],
        "explanation": [
          "Intent similarity: 0.7940 (weight: 0.7)",
          "SHACL validation: FAIL (hard gate)",
          "Final score: 0.0 (failed hard gates)"
        ],
        "metadata": {
          "constraint_count": 2,
          "shacl_has_shapes": true
        }
      }
    ],
    "module_results": [
      {
        "module": "IM",
        "latency_ms": 4.984140396118164,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.8303806781768799,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8161208629608154,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.8045567870140076,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.7940270900726318,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              }
            }
          ],
          "matcher_version": "v1"
        }
      },
      {
        "module": "SV",
        "latency_ms": 12.955904006958008,
        "candidate_count": 4,
        "metadata": {
          "candidates": [
            {
              "signifier_id": "heat-room-with-people-signifier",
              "intent_similarity": 0.8303806781768799,
              "signifier": {
                "signifier_id": "heat-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an occupied room",
                  "structured": {
                    "intent": "increase temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.661687Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": true,
              "shacl_violations": [],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "intent_similarity": 0.8161208629608154,
              "signifier": {
                "signifier_id": "cool-room-with-people-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an occupied room",
                  "structured": {
                    "intent": "decrease temperature in an occupied room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "greaterEqual",
                          "value": 1,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minInclusive 1 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterEqual\",\n                    \"value\": 1\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.629794Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not > Literal(\"25\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "intent_similarity": 0.8045567870140076,
              "signifier": {
                "signifier_id": "heat-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "increase temperature in an empty room",
                  "structured": {
                    "intent": "increase temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "lessThan",
                          "value": 20,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxExclusive 20 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"lessThan\",\n                    \"value\": 20\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/heating-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.644744Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not <= Literal(\"0\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "intent_similarity": 0.7940270900726318,
              "signifier": {
                "signifier_id": "cool-room-empty-signifier",
                "version": 1,
                "status": "active",
                "intent": {
                  "nl_text": "decrease temperature in an empty room",
                  "structured": {
                    "intent": "decrease temperature in an empty room"
                  }
                },
                "context": {
                  "structured_conditions": [
                    {
                      "artifact": "http://example.org/artifacts/temperature_sensor",
                      "property_affordance": "http://example.org/TemperatureSensor#hasTemperatureLevel",
                      "value_conditions": [
                        {
                          "operator": "greaterThan",
                          "value": 25,
                          "datatype": null
                        }
                      ]
                    },
                    {
                      "artifact": "http://example.org/artifacts/person_counter",
                      "property_affordance": "http://example.org/PersonCounter#hasPersonCount",
                      "value_conditions": [
                        {
                          "operator": "equals",
                          "value": 0,
                          "datatype": null
                        }
                      ]
                    }
                  ],
                  "shacl_shapes": "@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:minExclusive 25 ;\n            sh:path <http://example.org/TemperatureSensor#hasTemperatureLevel> ] ;\n    sh:targetNode <http://example.org/artifacts/temperature_sensor> .\n\n[] a sh:NodeShape ;\n    sh:property [ sh:datatype xsd:integer ;\n            sh:maxInclusive 0 ;\n            sh:path <http://example.org/PersonCounter#hasPersonCount> ] ;\n    sh:targetNode <http://example.org/artifacts/person_counter> .\n\n",
                  "nl_description": "\n{\n    \"conditions\": [\n        {\n            \"artifact\": \"http://example.org/artifacts/temperature_sensor\",\n            \"propertyAffordance\": \"http://example.org/TemperatureSensor#hasTemperatureLevel\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"greaterThan\",\n                    \"value\": 25\n                }\n            ]\n        },\n        {\n            \"artifact\": \"http://example.org/artifacts/person_counter\",\n            \"propertyAffordance\": \"http://example.org/PersonCounter#hasPersonCount\",\n            \"valueConditions\": [\n                {\n                    \"operator\": \"equals\",\n                    \"value\": 0\n                }\n            ]\n        }\n    ]\n}\n"
                },
                "affordance_uri": "http://example.org/affordances/cooling-system-eco",
                "provenance": {
                  "created_at": "2025-12-03T22:18:42.611854Z",
                  "created_by": "system",
                  "source": "rdf_import"
                },
                "indexes": {}
              },
              "shacl_conforms": false,
              "shacl_violations": [
                "Value is not <= Literal(\"0\", datatype=xsd:integer)",
                "Value is not > Literal(\"25\", datatype=xsd:integer)"
              ],
              "shacl_has_shapes": true,
              "constraint_count": 2
            }
          ],
          "passed_count": 1
        }
      },
      {
        "module": "RP",
        "latency_ms": 0.0,
        "candidate_count": 4,
        "metadata": {
          "ranked_results": [
            {
              "signifier_id": "heat-room-with-people-signifier",
              "final_score": 0.8503806781768799,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8303806781768799,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": true,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": true,
              "explanation": [
                "Intent similarity: 0.8304 (weight: 0.7)",
                "SHACL validation: PASS (weight: 0.2)",
                "Specificity boost: +0.0200 (2 constraints)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "cool-room-with-people-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8161208629608154,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8161 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "heat-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.8045567870140076,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.8046 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            },
            {
              "signifier_id": "cool-room-empty-signifier",
              "final_score": 0.0,
              "signals": [
                {
                  "name": "intent_similarity",
                  "value": 0.7940270900726318,
                  "weight": 0.7,
                  "is_gate": false
                },
                {
                  "name": "shacl_conforms",
                  "value": false,
                  "weight": 0.2,
                  "is_gate": true
                }
              ],
              "passed_gates": false,
              "explanation": [
                "Intent similarity: 0.7940 (weight: 0.7)",
                "SHACL validation: FAIL (hard gate)",
                "Final score: 0.0 (failed hard gates)"
              ],
              "metadata": {
                "constraint_count": 2,
                "shacl_has_shapes": true
              }
            }
          ]
        }
      }
    ],
    "total_latency_ms": 17.940044403076172,
    "summary": {
      "total_results": 4,
      "passed_gates": 1,
      "failed_gates": 3,
      "pipeline": [
        "IM",
        "SV",
        "RP"
      ],
      "intent_query": "increase the temperature in the room."
    }
  }
}